HI!

Как боролись за производительность

    Создавали индексы
    Создавали партиции
    Создавали таблицы преобработки
    Увеличивали железную мощность

Ну и конечно, постгрес 9.6 умеет строит планы выполнения запроса и показывать сколько строк в подзапросе или джоине и сколько время тратится на одну атомарную операцию. Я строю план выполнения запроса в pgAdmin. АquaDataStudio у меня не умеет почему-то это делать. Для построения плана выполнения запроса делаю так:

    pgAdmin / SQL / Запрос / Параметры построения плана выполнения
        проставляю флаги "Подробный вывод"
        "Стоимость"
        "Буферы"
        "Время"
    подробно про флаги можно почитать тут https://postgrespro.ru/docs/postgrespro/9.6/sql-explain
    Запускаю план выполнения запроса и смотрю время и стоимости, потом по ситуации оптимизирую sql. Как читать план выполнения запроса написано тут https://www.postgresql.org/docs/9.6/static/using-explain.html

